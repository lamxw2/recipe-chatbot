version: "2.0"

stories:

  - story: greet path
    steps:
    - intent: greet
    - action: utter_introduce
  
  - story: tell a joke path
    steps:
    - intent: ask_for_a_joke
    - action: utter_tellajoke
    - intent: thank
    - action: utter_noproblem
  
  - story: chit chat path
    steps:
    - intent: chitchat
    - action: utter_chitchat
  
  - story: suggest recipes short happy path
    steps:
    - intent: ask_recipe
    - action: action_retrieve_recipes
    - slot_was_set:
      - recipe_results: recipes
    - intent: button_intent
    - slot_was_set:
      - button_choice: yes
    - action: utter_buttonchoice_yes
    - action: choose_recipe_form
    - active_loop: choose_recipe_form
  
  - story: suggest recipes long happy path
    steps:
    - intent: ask_recipe
    - action: action_retrieve_recipes
    - slot_was_set:
      - recipe_results: recipes
    - intent: button_intent
    - slot_was_set:
      - button_choice: next
    - action: action_button_choice
    - intent: button_intent
    - slot_was_set:
      - button_choice: yes
    - action: utter_buttonchoice_yes
    - action: choose_recipe_form
    - active_loop: choose_recipe_form
  
  - story: suggest recipes previous happy path
    steps:
    - intent: ask_recipe
    - action: action_retrieve_recipes
    - slot_was_set:
      - recipe_results: recipes
    - intent: button_intent
    - slot_was_set:
      - button_choice: next
    - action: action_button_choice
    - intent: button_intent
    - slot_was_set:
      - button_choice: previous
    - intent: button_intent
    - slot_was_set:
      - button_choice: yes
    - action: utter_buttonchoice_yes
    - action: choose_recipe_form
    - active_loop: choose_recipe_form

  - story: suggest recipes previous cancel happy path
    steps:
    - intent: ask_recipe
    - action: action_retrieve_recipes
    - slot_was_set:
      - recipe_results: recipes
    - intent: button_intent
    - slot_was_set:
      - button_choice: next
    - action: action_button_choice
    - intent: button_intent
    - slot_was_set:
      - button_choice: previous
    - intent: button_intent
    - slot_was_set:
      - button_choice: cancel
  
  - story: suggest recipes cancel path 1
    steps:
    - intent: ask_recipe
    - action: action_retrieve_recipes
    - slot_was_set:
      - recipe_results: recipes
    - intent: button_intent
    - slot_was_set:
      - button_choice: cancel
    - action: action_button_choice

  - story: suggest recipes cancel path 2
    steps:
    - intent: ask_recipe
    - action: action_retrieve_recipes
    - slot_was_set:
      - recipe_results: recipes
    - intent: button_intent
    - slot_was_set:
      - button_choice: next
    - action: action_button_choice
    - intent: button_intent
    - slot_was_set:
      - button_choice: cancel
  
  - story: suggest recipes short unhappy path
    steps:
    - intent: ask_recipe
    - action: action_retrieve_recipes
    - slot_was_set:
      - recipe_results: recipes
    - intent: button_intent
    - slot_was_set:
      - button_choice: next
    - action: action_button_choice
    - intent: button_intent
    - slot_was_set:
      - button_choice: next
  
  - story: suggest recipes long unhappy path
    steps:
    - intent: ask_recipe
    - action: action_retrieve_recipes
    - slot_was_set:
      - recipe_results: recipes
    - intent: button_intent
    - slot_was_set:
      - button_choice: next
    - action: action_button_choice
    - intent: button_intent
    - slot_was_set:
      - button_choice: next
